/**
 * Module dependencies.
 */var express=require("express"),routes=require("./routes"),http=require("http"),path=require("path"),app=express();app.configure(function(){app.set("port",process.env.PORT||3e3);app.set("views",__dirname+"/views");app.set("view engine","jade");app.use(express.favicon());app.use(express.logger("dev"));app.use(express.bodyParser());app.use(express.methodOverride());app.use(app.router);app.use(express.static(path.join(__dirname,"public")))});app.configure("development",function(){app.use(express.errorHandler())});(function(){var t={host:"ws.audioscrobbler.com",port:80,path:"/2.0/?method=user.gettopartists&user=WillsonSM&format=json&api_key=2e2b81823779d6575ebe2b404483874d"};(function(){http.get(t,function(e){e.setEncoding("utf8");e.on("data",function(e){console.log(e)})}).on("error",function(e){console.log("Got error: "+e.message)})})()})();app.get("/",routes.index);http.createServer(app).listen(app.get("port"),function(){console.log("Express server listening on port "+app.get("port"))});